{% extends "base.html.twig" %}

{% block body %}
<body style="background-color:#E3CFCD">
  <!-- Main Content -->
 <!-- Contact Section -->
    <section class="page-section" id="contact">
        <div class="container jumbotron" style="background-color:white">
          <div class="row justify-content-center">
            <div class="col-lg-8 text-center">
              <h2 class="mt-0">{% if post.id %}Modifier le post{% else %}Ajouter un post{% endif %}</h2>
              <hr class="divider my-4">
              <p class="text-muted mb-5">À vos marques, prêts, postez !</p>
            </div>
          </div>
          <div class="row">
              <div class="col-6 offset-3" text-center>
                  <form name="addPostForm" id="addPostForm" method="post" action="index.php?action={% if post.id %}updatePost&id={{ post.id }}{% else %}addPost{% endif %}" >
                  <div class="control-group" style="display:none">
                    <div class="form-group floating-label-form-group controls">
                      <input type="text" class="form-control" placeholder="Id" id="postId" name="postId" required value="{% if post.id %}{{ post.id }}{% else %}new{% endif %}">
                      <p class="help-block text-danger"></p>
                    </div>
                  </div>
                  <div class="control-group">
                    <div class="form-group floating-label-form-group controls">
                      <input type="text" class="form-control" placeholder="Titre" id="postTitre" name="postTitre" required data-validation-required-message="Entrez le titre de votre post." value="{% if post.title %}{{ post.title }}{% endif %}">
                      <p class="help-block text-danger"></p>
                    </div>
                  </div>
{#                  <div class="control-group">
                    <div class="form-group col-xs-12 floating-label-form-group controls">
                      <input type="text" class="form-control" placeholder="Auteur" id="postAuteur" name="postAuteur" required data-validation-required-message="Entrez le nom de l'auteur" value="{% if post.userId %}{{ post.userId }}{% endif %}">
                      <p class="help-block text-danger"></p>
                    </div>
                  </div>#}
                  <div class="control-group">
                    <div class="form-group floating-label-form-group controls">
                      <textarea rows="5" cols="50" type="text" class="form-control" placeholder="Description brève" id="postChapo" name="postChapo" required data-validation-required-message="Entrez le chapo du post">{% if post.chapo %}{{ post.chapo }}{% endif %}</textarea>
                      <p class="help-block text-danger"></p>
                    </div>
                  </div>
                  <div class="control-group">
                    <div class="form-group col-xs-12 floating-label-form-group controls">
                      <textarea  rows="5" cols="50" type="text" class="form-control" placeholder="Contenu" id="postContenu" name="postContenu" required data-validation-required-message="Ecrivez le contenu de votre post">{% if post.content %}{{ post.content }}{% endif %}</textarea>
                      <p class="help-block text-danger"></p>
                    </div>
                  </div>
                  <br>
                    {%  if session.get(key) %}
                        <div class="alert alert-{{status}} alert-dismissible fade show" role="alert">
                            {% if status == "danger" %}
                                <strong>Echec : </strong>
                            {% else %}
                                <strong>Succès : </strong>
                            {% endif %}
                          {{ session.show(key) }}
                          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                    {% endif %}
                  <div class="form-group text-center">
                    <button type="submit" class="btn btn-primary  btn-xl" id="addPostBtn" name="addPostBtn">{% if post.id %}Mettre à jour{% else %}Poster{% endif %}</button>
                  </div>
                </form>
            </div>
        </div>
    </div>
   </section>
</body>
{% endblock %}
